\ProvidesFile{MpM_Manual.tex}

\documentclass[letterpaper,titlepage,twoside]{report}

% Begin Preamble:

%\usepackage[T1]{fontenc}
%\usepackage{palatino}
\usepackage{times}
%\usepackage{bookman}
%\usepackage{newcent}

\usepackage{amsmath}
\usepackage{enumerate}
\usepackage{ifthen}
\usepackage{alltt}
\usepackage{calc}
\usepackage{shortvrb}
\usepackage{varioref}
\usepackage[dvips]{graphicx}
\usepackage[dvips,usenames]{color}
\usepackage{makeidx}
\usepackage{xspace}
\usepackage{fancyhdr}
\usepackage[section]{tocbibind}

% Control the code, depending on whether a hyper-linked PDF is being generated:
\newboolean{generatingHyperPDF}
\setboolean{generatingHyperPDF}{true}

% If the package 'hyperref' is disabled by commenting out the following lines,
% be sure to set the boolean 'generatingHyperPDF' to false.
\ifthenelse{\boolean{generatingHyperPDF}}%
 {\usepackage[dvips,
    colorlinks=true,
    linkcolor=webgreen,
    filecolor=webbrown,
    citecolor=webgreen,
    urlcolor=webblue,
    pdftitle={Movement And Meaning Middleware},
    pdfauthor={Norman Jaffe},
    pdfkeywords={movement,middleware,YARP,ACE,JUCE},
    pdfsubject={Middleware},
    bookmarks,
    raiselinks=true,
    plainpages=false,
    bookmarksopen=true,
    pdfstartview=Fit,
    pdfpagemode=UseOutlines]{hyperref}}
 {\newcommand{\hyperpage}[1]{#1}}

\usepackage{mysects}

% Adjust the paper edges:
\setlength{\parindent}{0em}
\setlength{\textwidth}{\paperwidth-144pt}% 2"
\setlength{\marginparsep}{0pt}
\setlength{\marginparwidth}{0pt}
\setlength{\evensidemargin}{-18pt}% 0.25"
\setlength{\oddsidemargin}{-18pt}% 0.25"

% Some colours for the web:
\definecolor{webgreen}{rgb}{0,0.5,0}
\definecolor{webbrown}{rgb}{0.6,0,0}
\definecolor{webblue}{rgb}{0,0,0.5}

% Define some common strings:
\newcommand{\default}{!-!-!}
\newcommand{\MMM}{Movement~and~Meaning~Middleware}
\newcommand{\mplusm}{\textbfcorr{M+M}}
\newcommand{\nothing}{\ }
\newcommand{\yarp}{\begin{footnotesize}\textsfcorr{YARP}\end{footnotesize}}

% Set up the page layout:
\pagestyle{fancyplain}
\newcommand{\mymark}{}
\lhead[]{\fancyplain{}{\textsc{\mymark}}}
\chead[]{}
\rhead[\fancyplain{}{\textsc{\mymark}}]{}
\lfoot[Page \thepage]{\today}
\cfoot[\MMM]{\MMM}
\rfoot[\today]{Page \thepage}
\renewcommand{\headrulewidth}{0.5bp}
\pagenumbering{roman}

% Set the float behaviour:
\setcounter{bottomnumber}{2}
\setcounter{totalnumber}{4}

% Suppress the normal numbering of sections, et cetera:
\setcounter{secnumdepth}{-3}
\setcounter{tocdepth}{2}

% A couple of useful commands to handle italic-to-normal transitions:
\newcommand{\textitcorr}[1]{\textit{#1}\/}
\newcommand{\emphcorr}[1]{\emph{#1}\/}
\newcommand{\textbfcorr}[1]{\textbf{#1}\/}
\newcommand{\textsfcorr}[1]{\textsf{#1}\/}

% First argument: index category
% Second argument: index subcategory
% Third argument: alternate index subcategory
% Fourth argument: index name
% Fifth argument: index suffix 
\newcommand{\multiindex}[5]{%
  \ifthenelse{\equal{#2}{\default{}}}%
    {\index{#1!#4#5}}%
    {\index{#1!#2!#4#5}}}

% First argument: label category
% Second argument: label subcategory
% Third argument: alternate label subcategory
% Fourth argument: label name
\newcommand{\multilabel}[4]{%
  \ifthenelse{\equal{#3}{\default{}}}%
    {\label{#1:#4}}%
    {\label{#1:#3:#4}}}

% First argument: reference category
% Second argument: reference subcategory
% Third argument: alternate reference subcategory
% Fourth argument: reference name
\newcommand{\multiref}[4]{%
  \ifthenelse{\equal{#3}{\default{}}}%
    {\ref{#1:#4}}%
    {\ref{#1:#3:#4}}}

% The net effect is as follows:
%  generatingHyperPDF
%   'D' \textitcorr{\color{webgreen}#3}  \hypertarget{hyper.#2.#3}{}\label{#2:#3}  {}
%   'E' {}  {}  {}
%	'M' {} \hypertarget{hyper.#2.#3}{}\label{#2:#3} {}
%   'R' \hyperlink{hyper.#2.#3}{\textitcorr{#3}}  \index{#2!#3}  \ref{#2:#3}
%   'S' \textitcorr{#3}  \index{#2!#3}  {}
%   'X' \hyperlink{hyper.#2.#3}{\textitcorr{#3}}  {}  {}
%  not generatingHyperPDF
%   'D' \textitcorr{\color{webgreen}#3}  \index{#2!#3|(textbf}\label{#2:#3}  {}
%   'E' {}  \index{#2!#3|)textbf}  {}
%   'M' {}  \index{#2!#3|(textbf}\label{#2:#3}  {}
%   'R' \textitcorr{#3}  \index{#2!#3}  \ref{#2:#3}
%   'S' \textitcorr{#3}  \index{#2!#3}  {}
%   'X' \textitcorr{#3}  {}  {}

%   D = Define the object (emphasize the index, create a label);
%   E = End of the object definition (close the index, no text);
%	M = Define the object (no visible text)
%   R = Refer to the object in the index (the default);
%   S = Reference to a standard object and
%   X = Don't add a reference for the object to the index (any letter except D or
%         R could be used, X is preferred for mnemonic value)

% First argument: hyperlink/index category
% Second argument: hyperlink/index subcategory
% Third argument: alternate hyperlink/index subcategory
% Fourth argument: hyperlink/index name
% Fifth argument: alternate hyperlink/index name
\ifthenelse{\boolean{generatingHyperPDF}}%
  {\newcommand{\entityNameD}[5]{%  command if generatingHyperPDF
    \hypertarget{hyper.#1.#4}{}%
	\ifthenelse{\equal{#5}{\default{}}}%
	  {\textitcorr{\color{webgreen}#4}\multiindex{#1}{#2}{#3}{#4}{|(textbf}}%
	  {\textitcorr{\color{webgreen}#5}\multiindex{#1}{#2}{#3}{#5}{|(textbf}}%
    \multilabel{#1}{#2}{#3}{#4}}}
  {\newcommand{\entityNameD}[5]{%  command if not generatingHyperPDF
	\ifthenelse{\equal{#5}{\default{}}}%
	  {\textitcorr{\color{webgreen}#4}\multiindex{#1}{#2}{#3}{#4}{|(textbf}}%
	  {\textitcorr{\color{webgreen}#5}\multiindex{#1}{#2}{#3}{#5}{|(textbf}}%
    \multilabel{#1}{#2}{#3}{#4}}}

% First argument: hyperlink/index category
% Second argument: hyperlink/index subcategory
% Third argument: alternate hyperlink/index subcategory
% Fourth argument: hyperlink/index name
% Fifth argument: alternate hyperlink/index name
\ifthenelse{\boolean{generatingHyperPDF}}%
  {\newcommand{\entityNameE}[5]{}}%
  {\newcommand{\entityNameE}[5]{%
    \ifthenelse{\equal{#1}{#4}}%
    {}% if first and fourth argument match
    {\ifthenelse{\equal{#5}{\default{}}}%
      {\multiindex{#1}{#2}{#3}{#4}{|)textbf}}%
      {\multiindex{#1}{#2}{#3}{#5}{|)textbf}}}}}

% First argument: hyperlink/index category
% Second argument: hyperlink/index subcategory
% Third argument: alternate hyperlink/index subcategory
% Fourth argument: hyperlink/index name
% Fifth argument: alternate hyperlink/index name
\ifthenelse{\boolean{generatingHyperPDF}}%
  {\newcommand{\entityNameM}[5]{%  command if generatingHyperPDF
	\hypertarget{hyper.#1.#4}{}%
	\ifthenelse{\equal{#5}{\default{}}}%
	  {\multiindex{#1}{#2}{#3}{#4}{|(textbf}}%
	  {\multiindex{#1}{#2}{#3}{#5}{|(textbf}}%
  	\multilabel{#1}{#2}{#3}{#4}}}
  {\newcommand{\entityNameM}[5]{%  command if not generatingHyperPDF
	\ifthenelse{\equal{#5}{\default{}}}%
	  {\multiindex{#1}{#2}{#3}{#4}{|(textbf}}%
	  {\multiindex{#1}{#2}{#3}{#5}{|(textbf}}%
    \multilabel{#1}{#2}{#3}{#4}}}

% First argument: hyperlink/index category
% Second argument: hyperlink/index subcategory
% Third argument: alternate hyperlink/index subcategory
% Fourth argument: hyperlink/index name
% Fifth argument: alternate hyperlink/index name
\ifthenelse{\boolean{generatingHyperPDF}}%
  {\newcommand{\entityNameP}[5]{%  command if generatingHyperPDF
    \hypertarget{hyper.#1.#4}{}%
	\ifthenelse{\equal{#5}{\default{}}}%
	  {#4\multiindex{#1}{#2}{#3}{#4}{|(textbf}}%
	  {#5\multiindex{#1}{#2}{#3}{#5}{|(textbf}}%
    \multilabel{#1}{#2}{#3}{#4}}}
  {\newcommand{\entityNameP}[5]{%  command if not generatingHyperPDF
	\ifthenelse{\equal{#5}{\default{}}}%
	  {#4\multiindex{#1}{#2}{#3}{#4}{|(textbf}}%
	  {#5\multiindex{#1}{#2}{#3}{#5}{|(textbf}}%
    \multilabel{#1}{#2}{#3}{#4}}}

% First argument: hyperlink/index category
% Second argument: hyperlink/index subcategory
% Third argument: alternate hyperlink/index subcategory
% Fourth argument: hyperlink/index name
% Fifth argument: alternate hyperlink/index name
\ifthenelse{\boolean{generatingHyperPDF}}%
  {\newcommand{\entityNameR}[5]{%  command if generatingHyperPDF
	\ifthenelse{\equal{#5}{\default{}}}%
	  {\hyperlink{hyper.#1.#4}{\textitcorr{#4}}%
	  \ifthenelse{\equal{#1}{#4}}%
	    {}% if first and fourth argument match
	    {\multiindex{#1}{#2}{#3}{#4}{}}}%
	  {\hyperlink{hyper.#1.#4}{\textitcorr{#5}}%
	  \ifthenelse{\equal{#1}{#4}}%
	    {}% if first and fourth argument match
	    {\multiindex{#1}{#2}{#3}{#5}{}}}%
  	\multiref{#1}{#2}{#3}{#4}}}
  {\newcommand{\entityNameR}[5]{%  command if not generatingHyperPDF
  	\ifthenelse{\equal{#5}{\default{}}}%
	  {\textitcorr{#4}%
	  \ifthenelse{\equal{#1}{#4}}%
	    {}% if first and fourth argument match
	    {\multiindex{#1}{#2}{#3}{#4}{}}}%
	  {\textitcorr{#5}%
	  \ifthenelse{\equal{#1}{#4}}%
	    {}% if first and fourth argument match
	    {\multiindex{#1}{#2}{#3}{#5}{}}}%
    \multiref{#1}{#2}{#3}{#4}}}

% First argument: hyperlink/index category
% Second argument: hyperlink/index subcategory
% Third argument: alternate hyperlink/index subcategory
% Fourth argument: hyperlink/index name
% Fifth argument: alternate hyperlink/index name
\newcommand{\entityNameS}[5]{%
  \ifthenelse{\equal{#5}{\default{}}}%
	{\textitcorr{#4}}%
	{\textitcorr{#5}}%
  \ifthenelse{\equal{#1}{#4}}%
    {}% if first and fourth argument match
    {\multiindex{#1}{#2}{#3}{#4}{}}}

% First argument: hyperlink/index category
% Second argument: hyperlink/index subcategory
% Third argument: alternate hyperlink/index subcategory
% Fourth argument: hyperlink/index name
% Fifth argument: alternate hyperlink/index name
\ifthenelse{\boolean{generatingHyperPDF}}%
  {\newcommand{\entityNameX}[5]{%  command if generatingHyperPDF
	\ifthenelse{\equal{#5}{\default{}}}%
	  {\hyperlink{hyper.#1.#4}{\textitcorr{#4}}}%
	  {\hyperlink{hyper.#1.#5}{\textitcorr{#5}}}}}
  {\newcommand{\entityNameX}[5]{%  command if not generatingHyperPDF
  \ifthenelse{\equal{#5}{\default{}}}%
	{\textitcorr{#4}}%
	{\textitcorr{#5}}}}

% Use \entityReference, rather than \entityName, for the first mention of an object within
% another object, so that page ranges will be present.
\ifthenelse{\boolean{generatingHyperPDF}}%
  {\newcommand{\entityReference}[2]{\entityNameR{#1}{\default{}}{\default{}}{#2}{\default{}}}}%  command if generatingHyperPDF
  {\newcommand{\entityReference}[2]{\entityNameR{#1}{\default{}}{\default{}}{#2}{\default{}} \vpageref[(][(]{#1:#2})}}%  command if not generatingHyperPDF

\ifthenelse{\boolean{generatingHyperPDF}}%
  {\newcommand{\companyReference}[2]{\href{#1}{#2}}}%  command if generatingHyperPDF
  {\newcommand{\companyReference}[2]{#2}}% command if not generatingHyperPDF

% First argument [optional]: alternate name
% Second argument: entity name
\newcommand{\clientNameD}[2][\default{}]{\entityNameD{Clients}{\default{}}{\default{}}{#2}{#1}}% shortcut
\newcommand{\clientNameE}[2][\default{}]{\entityNameE{Clients}{\default{}}{\default{}}{#2}{#1}}% shortcut
\newcommand{\clientNameM}[2][\default{}]{\entityNameM{Clients}{\default{}}{\default{}}{#2}{#1}}% shortcut
\newcommand{\clientNameP}[2][\default{}]{\entityNameP{Clients}{\default{}}{\default{}}{#2}{#1}}% shortcut
\newcommand{\clientNameR}[2][\default{}]{\entityNameR{Clients}{\default{}}{\default{}}{#2}{#1}}% shortcut
\newcommand{\clientNameS}[2][\default{}]{\entityNameS{Clients}{\default{}}{\default{}}{#2}{#1}}% shortcut
\newcommand{\clientNameX}[2][\default{}]{\entityNameX{Clients}{\default{}}{\default{}}{#2}{#1}}% shortcut

% First argument [optional]: alternate name
% Second argument: entity name
\newcommand{\serviceNameD}[2][\default{}]{\entityNameD{Services}{\default{}}{\default{}}{#2}{#1}}% shortcut
\newcommand{\serviceNameE}[2][\default{}]{\entityNameE{Services}{\default{}}{\default{}}{#2}{#1}}% shortcut
\newcommand{\serviceNameM}[2][\default{}]{\entityNameM{Services}{\default{}}{\default{}}{#2}{#1}}% shortcut
\newcommand{\serviceNameP}[2][\default{}]{\entityNameP{Services}{\default{}}{\default{}}{#2}{#1}}% shortcut
\newcommand{\serviceNameR}[2][\default{}]{\entityNameR{Services}{\default{}}{\default{}}{#2}{#1}}% shortcut
\newcommand{\serviceNameS}[2][\default{}]{\entityNameS{Services}{\default{}}{\default{}}{#2}{#1}}% shortcut
\newcommand{\serviceNameX}[2][\default{}]{\entityNameX{Services}{\default{}}{\default{}}{#2}{#1}}% shortcut

\newcommand{\serviceReference}[1]{\entityReference{Services}{#1}}

% First argument [optional]: alternate name
% Second argument: entity name
\newcommand{\utilityNameD}[2][\default{}]{\entityNameD{Utilities}{\default{}}{\default{}}{#2}{#1}}% shortcut
\newcommand{\utilityNameE}[2][\default{}]{\entityNameE{Utilities}{\default{}}{\default{}}{#2}{#1}}% shortcut
\newcommand{\utilityNameM}[2][\default{}]{\entityNameM{Utilities}{\default{}}{\default{}}{#2}{#1}}% shortcut
\newcommand{\utilityNameP}[2][\default{}]{\entityNameP{Utilities}{\default{}}{\default{}}{#2}{#1}}% shortcut
\newcommand{\utilityNameR}[2][\default{}]{\entityNameR{Utilities}{\default{}}{\default{}}{#2}{#1}}% shortcut
\newcommand{\utilityNameS}[2][\default{}]{\entityNameS{Utilities}{\default{}}{\default{}}{#2}{#1}}% shortcut
\newcommand{\utilityNameX}[2][\default{}]{\entityNameX{Utilities}{\default{}}{\default{}}{#2}{#1}}% shortcut

% First argument [optional]: alternate name
% Second argument: Subcategory
% Third argument: entity name
\newcommand{\examplesNameD}[3][\default{}]{\entityNameD{Examples}{#2}{#2}{#3}{#1}}% shortcut
\newcommand{\examplesNameE}[3][\default{}]{\entityNameE{Examples}{#2}{#2}{#3}{#1}}% shortcut
\newcommand{\examplesNameM}[3][\default{}]{\entityNameM{Examples}{#2}{#2}{#3}{#1}}% shortcut
\newcommand{\examplesNameP}[3][\default{}]{\entityNameP{Examples}{#2}{#2}{#3}{#1}}% shortcut
\newcommand{\examplesNameR}[3][\default{}]{\entityNameR{Examples}{#2}{#2}{#3}{#1}}% shortcut
\newcommand{\examplesNameS}[3][\default{}]{\entityNameS{Examples}{#2}{#2}{#3}{#1}}% shortcut
\newcommand{\examplesNameX}[3][\default{}]{\entityNameX{Examples}{#2}{#2}{#3}{#1}}% shortcut

% First argument [optional]: alternate name
% Second argument: Subcategory
% Third argument: Alternate subcategory name
% Fourth argument: entity name
\newcommand{\requestsNameD}[4][\default{}]{\entityNameD{Requests}{#2}{#3}{#4}{#1}}% shortcut
\newcommand{\requestsNameE}[4][\default{}]{\entityNameE{Requests}{#2}{#3}{#4}{#1}}% shortcut
\newcommand{\requestsNameM}[4][\default{}]{\entityNameM{Requests}{#2}{#3}{#4}{#1}}% shortcut
\newcommand{\requestsNameP}[4][\default{}]{\entityNameP{Requests}{#2}{#3}{#4}{#1}}% shortcut
\newcommand{\requestsNameR}[4][\default{}]{\entityNameR{Requests}{#2}{#3}{#4}{#1}}% shortcut
\newcommand{\requestsNameS}[4][\default{}]{\entityNameS{Requests}{#2}{#3}{#4}{#1}}% shortcut
\newcommand{\requestsNameX}[4][\default{}]{\entityNameX{Requests}{#2}{#3}{#4}{#1}}% shortcut

\newcommand*{\insertpart}[2]{\clearpage\renewcommand{\mymark}{#1}#2}

% First argument [optional]: alternate hyperlink name
% Second argument: section title
% Third argument: hyperlink section
% Fourth argument: simplified version of title
% Fifth argument: prefix to display before title
\ifthenelse{\boolean{generatingHyperPDF}}%
  {\newcommand*{\sectionStart}[5][\default{}]{\clearpage\section{#5\texorpdfstring{#2}{#4}}%
   \renewcommand{\mymark}{#4}%
   \ifthenelse{\equal{#1}{\default{}}}%
    {\hypertarget{hyper.#3.#4}{}}%
    {\hypertarget{hyper.#3.#1}{}}}}%
  {\newcommand*{\sectionStart}[5][\default{}]{\clearpage\section{#5#2}\renewcommand{\mymark}{#4}}}

\newcommand*{\sectionEnd}[1]{#1} % just a notational convenience

% First argument: [optional] alternate hypertarget name
% Second argument: subsection title
% Third argument: hypertarget section
% Fourth argument: simplified version of title
\ifthenelse{\boolean{generatingHyperPDF}}%
  {\newcommand*{\subsectionStart}[4][\default{}]{\subsection{\texorpdfstring{#2}{#4}}%
   \ifthenelse{\equal{#1}{\default{}}}%
    {\hypertarget{hyper.#3.#4}{}}%
    {\hypertarget{hyper.#3.#1}{}}}}%
  {\newcommand*{\subsectionStart}[4][\default{}]{\subsection{#2}}}
    
\newcommand*{\subsectionEnd}[1]{#1} % just a notational convenience

% First argument: [optional] alternate hypertarget name
% Second argument: subsubsection title
% Third argument: hypertarget section
% Fourth argument: simplified version of title
\ifthenelse{\boolean{generatingHyperPDF}}%
  {\newcommand*{\subsubsectionStart}[4][\default{}]{\subsubsection{\texorpdfstring{#2}{#4}}%
   \ifthenelse{\equal{#1}{\default{}}}%
    {\hypertarget{hyper.#3.#4}{}}%
    {\hypertarget{hyper.#3.#1}{}}}}%
  {\newcommand*{\subsubsectionStart}[4][\default{}]{\subsubsection{#2}\index{#2}}}
    
\newcommand*{\subsubsectionEnd}[1]{#1} % just a notational convenience

% First argument: [optional] alternate section name
% Second argument: section title
\newcommand*{\primaryStart}[2][\default{}]{%
  \sectionStart[#1]{#2}{Primary}{#2}{}}

\newcommand*{\primaryEnd}[1]{#1} % just a notational convenience

% First argument: [optional] alternate subsection name
% Second argument: subsection title
\newcommand*{\secondaryStart}[2][\default{}]{%
  \subsectionStart[#1]{#2}{Secondary}{#2}}

\newcommand*{\secondaryEnd}[1]{#1} % just a notational convenience

% First argument: [optional] alternate subsubsection name
% Second argument: subsubsection title
\newcommand*{\tertiaryStart}[2][\default{}]{%
  \subsubsectionStart[#1]{#2}{Tertiary}{#2}}

\newcommand*{\tertiaryEnd}[1]{#1} % just a notational convenience

% First argument: [optional] alternate appendix name
% Second argument: appendix title
\newcommand*{\appendixStart}[2][\default{}]{%
  \sectionStart[#1]{#2}{Appendix}{#2}{\appendixname{}:~}}

\newcommand*{\appendixEnd}[1]{#1} % just a notational convenience

\newenvironment{histList}
  {\begin{list}
    {}
    {\setlength{\labelwidth}{108pt}% 1.5"
    \setlength{\leftmargin}{\labelwidth+\labelsep}
    \setlength{\rightmargin}{36pt}% 0.5"
    \setlength{\parsep}{0ex}
    \renewcommand{\makelabel}[1]{\textbf{##1}\hfill}
    }}
  {\end{list}}
\newcommand*{\histListBegin}{\begin{histList}}
\newcommand*{\histListEnd}{\end{histList}}
\newcommand{\histListItem}[1]{\item[#1]}

% Define hyphenation points:

\title{\cal\Huge\textitcorr{\MMM}\\
\vspace{1ex}
\begin{center}\includegraphics{ChannelManager.eps}\end{center}}
\author{HPlus~Technologies~Ltd. and Simon~Fraser~University\\
Vancouver, British~Columbia, Canada}

\makeindex

%\listfiles
% End Preamble

\begin{document}

% Begin front matter

\maketitle

\insertpart{Contents}{\tableofcontents}
\insertpart{List~of~Figures}{\listoffigures}

\input{documentationHistory.tex}

\input{frontispiece.tex}
\clearpage\pagenumbering{arabic}

% End of front matter
% Begin contents

\input{overview.tex}

\input{utilities.tex}

%% section for each of the utilities

\input{services.tex}

%% section for each of the core services

\input{examples.tex}

%% section for each of the examples

\input{classes.tex}

%% section for each of the core classes

\appendix

\input{internalDb.tex}

\input{registrationSequence.tex}

% End of contents

\insertpart{Index}{\printindex}
\end{document}
\end
