\ProvidesFile{utilities.tex}[v1.0.0]
\primaryStart{Utilities}
The utility programs that are provided with \mplusm{} provide access to the processes that
are running in the \mplusm{} installation.
Although command--line \yarp{} commands can also be used to manage the network
connections, it is recommended that the more specialized \mplusm{} tools be used, to avoid
inconsistencies.
\secondaryStart[GUITools]{GUI~Tools}
Currently there is one GUI--based tool, \utilityNameR[Channel~Manager]{ChannelManager},
which provides a view of the state of connections within an \mplusm{} installation, as
well as managing non--\mplusm{} \yarp{} network connections.
\tertiaryStart{\utilityNameP[Channel~Manager]{ChannelManager}}
The \utilityNameX[Channel~Manager]{ChannelManager} application displays a single window
view of the connections within a \yarp{} network, with features designed to make
management of an \mplusm{} installation easier.
Simple \yarp{} network ports are shown as rectangles with a title consisting of the IP
address and port number of the port, and the \yarp{} name for the port as the body of the
rectangle, prefixed with `In' for input--only ports, `Out' for output--only ports and
`I/O' for general ports.\\

\mplusm{} services are shown as rectangles with a title consisting of the name provided by
the service, with the primary \yarp{} network connection as the first row in the body of
the rectangle, prefixed with `S' to indicate that it is a service connection.
Secondary \yarp{} network connections appear as rows below the primary connection,
prefixed with `In' for input--only connections and `Out' for output--only connections.
\mplusm{} \inputOutput{} services do not have a visual appearance that is distinct from
other \mplusm{} services -- the connections that are allowed, however, are more
restricted.
Both \mplusm{} services and clients can have multiple secondary \yarp{} network ports.\\

\mplusm{} simple clients are shown as rectangles with a title consisting of the IP address
and port number of their connection to a service, with a row containing the \yarp{}
network connection prefixed with `C'.\\

\mplusm{} adapters are similar to \mplusm{} simple clients, except that they have
additional rows above the client--service \yarp{} network connection for the secondary
\yarp{} network connections, with prefixes of `In' for input--only connections and `Out'
for output--only connections.\\

Connections between ports are shown as lines with one of three thicknesses and one of
three colours.
The thinnest lines represent simple \yarp{} network connections, which have no explicit
behaviours.
The middle thickness lines represent connections between \inputOutput{} services; these
connections have specific behaviours.
The thickest lines represent connections between clients and services, which are not
modifiable by this tool.
TCP/IP connections, which are the default, are shown in teal, UDP connections are shown in
purple and other connections are shown in orange.
Note that the tool can only create TCP/IP or UDP connections.\\

To create a connection between two ports, click on the source port with the `Option' /
`Alt' key held down and either drag the mouse to the destination port or click on the
destination port.
If the `Shift' is held down at the same time as the `Option' / `Alt' key, the new
network connection will be UDP rather than TCP/IP.
While an `add' operation is active, the source port will be overlaid with a small filled
yellow circle.
To clear a pending `add' operation, either click on the source port a second time or click
somewhere other than a port.
Note that it is not possible to add a connection from an input--only port, from a client
port to a non--service port, or from an output--only port of an \inputOutput{} service to
an input--only port of another \inputOutput{} service if the ports do not have matching
protocols.\\

To remove a connection between two ports, click on the source port with the `Command' key
held down and then click on the destination port.
While a `remove' operation is active, the source port will be overlaid with a small
hollow yellow circle.
To clear a pending `remove' operation, either click on the source port a second time or
click on a port that is not connected to the source port or somewhere other than a port.
Note that is is not possible to remove a connection from a client to a service.\\

If one of the rectangular objects is clicked on with the `Control' key held down, an
information window will be presented.
If the title of the rectangle is clicked on, the information will be about the
object in general while, if a port is clicked on, the information will be about the
specific port.\\

Clicking on a rectangular object with no modifier key held down allows the user to drag
the object around in the window.
Note that connections cannot be selected by clicking on them.\\

The positions of the objects within the window are stored in the file `settings.txt'
within the `ChannelManager' directory inside the user--specific application data
directory.
On Microsoft Windows, this will likely be ``\textbackslash{}Documents~and~Settings%
\textbackslash{}username\textbackslash{}Application~Data'' while, for Macintosh OS X, it
will likely be ``\textasciitilde/Library''.
\objDiagram{cmDiagram.ps}{cmDiagram}{Channel~Manager structure}
\tertiaryEnd{\utilityNameE[Channel~Manager]{ChannelManager}}
\secondaryEnd{}
\newpage
\secondaryStart[CommandLineUtilities]{Command--Line~Utilities}
\mplusm{} includes a number of command--line tools that provide some of the functionality
of the GUI--based tool, \utilityNameR[Channel~Manager]{ChannelManager}.
As well, the native \yarp{} command--line tools to create and remove connections can be
used with \mplusm{}, but it is very easy to create a non--functional installation if care
is not taken.
\tertiaryStart{\utilityNameP{mpmClientList}}
The program \utilityNameX{mpmClientList} displays the clients for services that have
\yarp{} network connections with persistent state.
A service that has persistent state for its connections retains information from each
request for the following request.
An example service with persistent state is
\examplesNameR{Services}{mpmRunningSumService}, where the information that is kept is the
running sum for the connected client.
The program takes an optional argument for the \yarp{} network port of the service; if no
argument is provided, all services are checked for connections with persistent state.
It has two command--line options:
\begin{itemize}
\item \textbf{--j} generate JSON--formatted output
\item \textbf{--t} generate output in tab--delimited form
\end{itemize}
If neither option is present, the output is written as simple text.\\

The output specifies the \yarp{} network port of a service with persistent state and the
\yarp{} network ports that are connected to it.\\

For example, the default output could be:
\outputBegin{}
Service:\ /\serviceName/examples/runningSum\\
\settowidth{\utilLen}{Service:\ }%
Clients:\\
\hspace*{\utilLen}/\clientName/examples/runningsum\textunderscore{}4896162
\outputEnd{}
or, if JSON--formatted output is requested:
\outputBegin{}
\openSq{} \textbraceleft{} "Service":\ "/\serviceName/examples/runningSum", "Client":\ \\
"/\clientName/examples/runningsum\textunderscore{}4896162" \textbraceright{} \closeSq
\outputEnd{}
or, if tab--delimited output is requested, with tabs shown as
`\texttt{\boldmath{$\vdash$}}':
\outputBegin{}
/\serviceName/examples/runningSum\pseudotab{}%
/\clientName/examples/runningsum\textunderscore{}4896162
\outputEnd{}
Note that, if no clients are found, the JSON--formatted output would be:
\outputBegin{}
\sqPair
\outputEnd{}
while the default output would be:
\outputBegin{}
No client connections found.
\outputEnd{}
and the tab--delimited output would be empty.
If no matching service is found, the default output would be:
\outputBegin{}
No services found.
\outputEnd{}
and the JSON--formatted and tab--delimited outputs would be empty.
\tertiaryEnd{\utilityNameE{mpmClientList}}
\tertiaryStart{\utilityNameP{mpmPortLister}}
The program \utilityNameX{mpmPortLister} displays the active \yarp{} ports and \mplusm{}
entities.
For each \yarp{} port, its role in the \mplusm{} installation is shown as well as any
incoming and outgoing \yarp{} network connections.
The primary port for each active service is identified, as well as the primary port for
each adapter.
It has two command--line options:
\begin{itemize}
\item \textbf{--j} generate JSON--formatted output
\item \textbf{--t} generate output in tab--delimited form
\end{itemize}
If neither option is present, the output is written as simple text.\\

The output specifies the all the active \yarp{} network ports along with their input and
output \yarp{} network ports; regular \yarp{} network ports are tagged as `Standard',
while \mplusm{} adapter ports are tagged as `Adapter', \mplusm{} client ports are tagged
as `Client' and \mplusm{} service ports are tagged as `Service' or `Service registry'.\\

`Standard' ports report their IP address and network port while `Adapter' ports report
the \mplusm{} port of their client application, `Client' ports report their attached
`Adapter' ports, if any are present and `Service' ports report the name of the \mplusm{}
service that they provide.
The connections indicate their direction relative to the \yarp{} network port that is
being listed, along with the \yarp{} network port that is being connected to and the mode
of the connection, such as TCP or UDP.\\

For example, the default output could be:
\outputBegin{}
Ports:\\
\settowidth{\utilLen}{Por}%
/\textdollar{}ervice:\ Service registry port for 'Registry'.\\
\hspace*{\utilLen}No active connections.\\
/\textdollar{}ervice/status:\ Standard port at 10.0.1.2:10008.\\
\hspace*{\utilLen}Output to /reader via UDP.\\
/reader:\ Standard port at 10.0.1.2:10003.\\
\hspace*{\utilLen}Input from /writer2 via TCP.\\
\hspace*{\utilLen}Input from /writer via TCP.\\
\hspace*{\utilLen}Input from /\textdollar{}ervice/status via UDP.\\
/writer:\ Standard port at 10.0.1.2:10002.\\
\hspace*{\utilLen}Output to /reader via TCP.\\
/writer2:\ Standard port at 10.0.1.2:10004.\\
\hspace*{\utilLen}Output to /reader via TCP.
\outputEnd{}
or, if JSON--formatted output is requested:
\outputBegin{}
\openSq{} \textbraceleft{} "PortName":\ "/\textdollar{}ervice",
"PortClass":\ "Service~registry~port~for~'Registry'", "Inputs":\ \sqPair, "Outputs":\
\sqPair{} \textbraceright{}, \textbraceleft{} "PortName":\ "/\textdollar{}ervice/status",
"PortClass":\ \\
"Standard~port~at~10.0.1.2:10008", "Inputs":\ \sqPair, "Outputs":\ \openSq{}
\textbraceleft{} "Port":\ \\
"/reader", "Mode":\ "UDP" \textbraceright{} \closeSq{} \textbraceright{},
\textbraceleft{} "PortName":\ "/reader", "PortClass":\ \\
"Standard~port~at~10.0.1.2:10003", "Inputs":\ \openSq{} \textbraceleft{} "Port":\
"/writer2", "Mode":\ \\
"TCP" \textbraceright{}, \textbraceleft{} "Port":\ "/writer", "Mode":\ "TCP"
\textbraceright, \textbraceleft{} "Port":\ "/\textdollar{}ervice/status",\\
"Mode":\ "UDP" \textbraceright{} \closeSq, "Outputs":\ \sqPair{} \textbraceright,
\textbraceleft{} "PortName":\ "/writer", "PortClass":\ \\
"Standard~port~at~10.0.1.2:10002", "Inputs":\ \sqPair, "Outputs":\ \openSq{}
\textbraceleft{} "Port":\ \\
"/reader", "Mode":\ "TCP" \textbraceright{} \closeSq{} \textbraceright{},
\textbraceleft{} "PortName":\ "/writer2", "PortClass":\ \\
"Standard~port~at~10.0.1.2:10004", "Inputs":\ \sqPair, "Outputs":\ \openSq{}
\textbraceleft{} "Port":\ \\
"/reader", "Mode":\ "TCP" \textbraceright{} \closeSq{} \textbraceright{} \closeSq
\outputEnd{}
or, if tab--delimited output is requested, with tabs shown as
`\texttt{\boldmath{$\vdash$}}':
\outputBegin{}
/\textdollar{}ervice\pseudotab{}Service~registry~port~for~'Registry'\\		
/\textdollar{}ervice/status\pseudotab{}Standard~port~at~10.0.1.2:10008\pseudotab/%
reader~UDP\\
/reader\pseudotab{}Standard~port~at~10.0.1.2:10003\pseudotab/writer2~TCP,
/writer~TCP,\\
\hspace*{2em}/\textdollar{}ervice/status~UDP\\
/writer\pseudotab{}Standard~port~at~10.0.1.2:10002\pseudotab/reader~TCP\\
/writer2\pseudotab{}Standard~port~at~10.0.1.2:10004\pseudotab/reader~TCP
\outputEnd{}
Note that, if no ports are found, the JSON--formatted output would be:
\outputBegin{}
\sqPair
\outputEnd{}
while the default output would be:
\outputBegin{}
Ports:\\
\settowidth{\utilLen}{Por}%
\hspace*{\utilLen}No ports found.
\outputEnd{}
and the tab--delimited output would be empty.
\tertiaryEnd{\utilityNameE{mpmPortLister}}
\tertiaryStart{\utilityNameP{mpmRequestInfo}}
The program \utilityNameX{mpmRequestInfo} displays information on requests for one or more
active services in the \mplusm{} installation.
It lists each request, along with the \yarp{} network port for the service that handles
the request and details about the request.
The program takes two optional arguments for the \yarp{} network port of the service and
the request to get information on; if the request is not specified, all requests for the
given service are shown and, if no port is specified, all requests for all services are
displayed.
It has two command--line options:
\begin{itemize}
\item \textbf{--j} generate JSON--formatted output
\item \textbf{--t} generate output in tab--delimited form
\end{itemize}
If neither option is present, the output is written as simple text.\\

The output consists of the \yarp{} network port that is used by the service, the name of
the request, its version number, a description of the request, including its expected
input and expected output, as well as alternate names for the request and the format of
its inputs and outputs.\\

The input and output formats have a symbolic representation, which is currently used for
descriptive purposes and not actually validated by the services.\\

An `i' represents an integer value, a `d' represents a floating--point (`double') value,
an `n' represents a numeric value (either an integer or a floating--point number), an `s'
represents a string and a `.' represents an arbitrary value.\\

Values can be grouped in lists by being preceded by a `(' and followed by a `)';
concatenation of values indicates sequential appearance of the values.
That is, `sis' indicates a sequence consisting of a string, and integer and another
string.\\

A `:' indicates a key / value pair and a dictionary is indicated by a leading `[' and a
trailing `]'.\\

`?' after an item indicates that the item is optional, `*' indicates that the preceding
item may appear zero or more times and `+' indicates that the preceding item may appear
one or more times.\\

For example, the default output when both the service and the request are specified could
be:
\outputBegin{}
\begin{tabular}{l@{\ }p{12.8cm}}
Service Port:\ & /\textdollar{}ervice\\
Request:\ & register\\
Version:\ & 1.0\\
Details:\ & Register the service and its requests\\
 & Input:\ the channel used by the service\\
 & Output:\ OK or FAILED, with a description of the problem\\
 & encountered\\
Keywords:\ & register add\\
Inputs:\ & s\\
Outputs:\ & s\\
\end{tabular}
\outputEnd{}
or, if JSON--formatted output is requested:
\outputBegin{}
\openSq{} \textbraceleft{} "Port":\ "//\textdollar{}ervice", "Request":\ "register",
"Version":\ "1.0", "Details":\ \\
"Register the service and its requests\textbackslash{}nInput:\ the channel used by the\\
service\textbackslash{}nOutput:\ OK or FAILED, with a description of the problem\\
encountered", "Keywords":\ \openSq{} "register", "add" \closeSq, "Inputs":\ "s",
"Outputs":\ \\
"s" \textbraceright{} \closeSq
\outputEnd{}
or, if tab--delimited output is requested, with tabs shown as
`\texttt{\boldmath{$\vdash$}}':
\outputBegin{}
/\textdollar{}ervice\pseudotab{}register\pseudotab{}1.0\pseudotab{}Register the service
and its requests\textbackslash{}nInput:\ the\\
channel used by the service\textbackslash{}nOutput:\ OK or FAILED, with a description of
the\\
problem encountered\pseudotab{}register add\pseudotab{}s\pseudotab{}s
\outputEnd{}
For the default output, multiple entries will be separated by a blank line; for
tab--delimited output each entry is on a line by itself and for JSON--formatted output,
the entries are objects within an array.
Note that, if no matching request is found, the JSON--formatted output would be:
\outputBegin{}
\sqPair
\outputEnd{}
while the default output would be:
\outputBegin{}
No matching request found.
\outputEnd{}
and the tab--delimited output would be empty.
If no matching service is found, the default output would be:
\outputBegin{}
No services found.
\outputEnd{}
and the JSON--formatted and tab--delimited outputs would be empty.
\tertiaryEnd{\utilityNameE{mpmRequestInfo}}
\tertiaryStart{\utilityNameP{mpmServiceLister}}
The program \utilityNameX{mpmServiceLister} displays the active services in the \mplusm{}
installation.
It lists each service, along with the service description and requests, as well as the
path to the executable for the service and the \yarp{} network ports that the service
provides.
It has two command--line options:
\begin{itemize}
\item \textbf{--j} generate JSON--formatted output
\item \textbf{--t} generate output in tab--delimited form
\end{itemize}
If neither option is present, the output is written as simple text.\\

The output consists of the \yarp{} network port for the service, the `canonical' name of
the service, the kind of service (`Filter', `Input', `Output', `Normal' or `Registry'), a
short description of the service, a short description of the requests supported by the
service, the path to the executable for the service and any secondary input or output
\yarp{} network ports attached to the service.\\

Note that the description of requests supported by the service does not include the
\secondaryRef{BasicRequests}{`basic'} requests handled by all services or, in the case of
\inputOutput{} services, the \secondaryRef{InputOutputRequests}{`input~/~output'}
requests.\\

For each secondary input or output \yarp{} network port, the protocol supported by the
port is shown.
Note that secondary port protocols have no specific format -- they are simple strings that
must match in order for a connection to be established with the port.
By convention, protocol strings can have formats similar to the input and output formats
for requests, but there is no requirement that the protocol strings have any particular
structure.\\

If a protocol is not specified for a secondary input port, then it will accept any data;
if no protocol is specified for a secondary output port, then its output data has no
particular structure and can only be connected to a \yarp{} network port that has no
protocol.
\newpage
For example, the default output could be:
\outputBegin{}
\begin{tabular}{l@{\ }p{12.8cm}}
Services:\ & \\
\\
Service port:\ & /\textdollar{}ervice\\
Service name:\ & Registry\\
Service kind:\ & Registry\\
Description:\ & The Service Registry service\\
Requests:\ & associate - associate a channel with another channel\\
 & disassociate - remove all associations for a channel\\
 & getAssociates - return the associations of a channel\\
 & match - return the channels for services matching the\\
 & criteria provided\\
 & ping - update the last-pinged information for a channel\\
 & or record the information for a service on the given\\
 & channel\\
 & register - record the information for a service on the\\
 & given channel\\
 & unregister - remove the information for a service on the\\
 & given channel\\
Path:\ & \textellipsis/mpmRegistryService\\
Secondary outputs:\ & /\textdollar{}ervice/status\textbraceleft{}protocol=s%
\textbraceright\\
\\
Service port:\ & /\serviceName/examples/randomburst\textunderscore{}5580745\\
Service name:\ & RandomBurst\\
Service kind:\ & Input\\
Description:\ & The random burst input service\\
Requests:\ & \\
Path:\ & \textellipsis/mpmRandomBurstService\\
Secondary outputs:\ & /examples/randomburst/output\textunderscore{}29511ad%
\textbraceleft{}protocol=d+\textbraceright\\
\\
Service port:\ & /\serviceName/examples/recordintegers\textunderscore{}10efc07\\
Service name:\ & RecordIntegers\\
Service kind:\ & Output\\
Description:\ & The record integers output service\\
Requests:\ & \\
Path:\ & \textellipsis/mpmRecordIntegersService\\
Secondary inputs:\ & /examples/recordintegers/input\textunderscore{}5090e26%
\textbraceleft{}protocol=i+\textbraceright\\
\\
Service port:\ & /\serviceName/examples/truncatefilter\textunderscore{}2ee58eb\\
Service name:\ & TruncateFilter\\
Service kind:\ & Filter\\
Description:\ & The truncate filter service\\
Requests:\ & \\
Path:\ & \textellipsis/mpmTruncateFilterService\\
Secondary inputs:\ & /examples/truncatefilter/input\textunderscore{}39b1d9f%
\textbraceleft{}protocol=d+\textbraceright\\
Secondary outputs:\ & /examples/truncatefilter/output\textunderscore{}6a7d189%
\textbraceleft{}protocol=i+\textbraceright
\end{tabular}
\outputEnd{}
\newpage{}
or, if JSON--formatted output is requested:
\outputBegin{}
\openSq{} \textbraceleft{} "ServicePort":\ "/\textdollar{}ervice", "ServiceName":\
"Registry", "ServiceKind":\ \\
"Registry", "Description":\ "The Service Registry service", "Requests":\ \\
"associate - associate a channel with another channel\textbackslash{}ndisassociate - 
remove\\
all associations for a channel\textbackslash{}ngetAssociates - return the associations of
a\\
channel\textbackslash{}nmatch - return the channels for services matching the criteria\\
provided\textbackslash{}nping - update the last-pinged information for a channel or
record\\
the information for a service on the given channel\textbackslash{}nregister - record the\\
information for a service on the given channel\textbackslash{}nunregister - remove the\\
information for a service on the given channel", "Path":\ \\
"\textellipsis/mpmRegistryService", "SecondaryInputs":\ \sqPair, "SecondaryOutputs":\
\openSq{} \textbraceleft\\
"Name":\ "/\textdollar{}ervice/status", "Protocol":\ "s" \textbraceright{} \closeSq{}
\textbraceright, \textbraceleft{} "ServicePort":\ \\
"/\serviceName/examples/randomburst\textunderscore{}5580745", "ServiceName":\ 
"RandomBurst",\\
"ServiceKind":\ "Input", "Description":\ "The random burst input service",\\
"Requests":\ "", "Path":\ "\textellipsis/mpmRandomBurstService",
"SecondaryInputs":\ \\
\sqPair, "SecondaryOutputs":\ \openSq{} \textbraceleft{} "Name":\ \\
"/examples/randomburst/output\textunderscore{}29511ad", "Protocol":\ "d+"
\textbraceright{} \closeSq{} \textbraceright, \textbraceleft\\
"ServicePort":\ "/\serviceName/examples/recordintegers\textunderscore{}10efc07",\\
"ServiceName":\ "RecordIntegers", "ServiceKind":\ "Output", "Description":\ \\
"The record integers output service", "Requests":\ "", "Path":\ \\
"\textellipsis/mpmRecordIntegersService", "SecondaryInputs":\ \openSq{}
\textbraceleft{} "Name":\ \\
"/examples/recordintegers/input\textunderscore{}5090e26", "Protocol":\ "i+"
\textbraceright{} \closeSq,\\
"SecondaryOutputs":\ \sqPair{} \textbraceright, \textbraceleft{} "ServicePort":\ \\
"/\serviceName/examples/truncatefilter\textunderscore{}2ee58eb", "ServiceName":\ \\
"TruncateFilter", "ServiceKind":\ "Filter", "Description":\ "The truncate\\
filter service", "Requests":\ "", "Path":\ \\
"\textellipsis/mpmTruncateFilterService", "SecondaryInputs":\ \openSq{}
\textbraceleft{} "Name":\ \\
"/examples/truncatefilter/input\textunderscore{}39b1d9f", "Protocol":\ "d+"
\textbraceright{} \closeSq,\\
"SecondaryOutputs":\ \openSq{} \textbraceleft{} "Name":\ 
"/examples/truncatefilter/output\textunderscore{}6a7d189",\\
"Protocol":\ "i+" \textbraceright{} \closeSq{} \textbraceright{} \closeSq
\outputEnd{}
or, if tab--delimited output is requested, with tabs shown as
`\texttt{\boldmath{$\vdash$}}':
\outputBegin{}
/\textdollar{}ervice\pseudotab{}Registry\pseudotab{}Registry\pseudotab{}The Service
Registry service\pseudotab{}associate - \\
associate a channel with another channel\textbackslash{}ndisassociate - remove all\\
associations for a channel\textbackslash{}ngetAssociates - return the associations of a\\
channel\textbackslash{}nmatch - return the channels for services matching the criteria\\
provided\textbackslash{}nping - update the last-pinged information for a channel or
record\\
the information for a service on the given channel\textbackslash{}nregister - record the\\
information for a service on the given channel\textbackslash{}nunregister - remove the\\
information for a service on the given channel\pseudotab\textellipsis/%
mpmRegistryService\pseudotwotabs\\
/\textdollar{}ervice/status\textbraceleft{}protocol=s\textbraceright\\

/\serviceName/examples/randomburst\textunderscore{}5580745\pseudotab{}RandomBurst%
\pseudotab{}Input\pseudotab\\
The random burst input service\pseudotwotabs\textellipsis/mpmRandomBurstService%
\pseudotwotabs\\
/examples/randomburst/output\textunderscore{}29511ad\textbraceleft{}protocol=d+%
\textbraceright\\

/\serviceName/examples/recordintegers\textunderscore{}10efc07\pseudotab{}%
RecordIntegers\pseudotab{}Output\pseudotab\\
The record integers output service\pseudotwotabs\textellipsis/%
mpmRecordIntegersService\pseudotab\\
/examples/recordintegers/input\textunderscore{}5090e26\textbraceleft{}%
protocol=i+\textbraceright\\

/\serviceName/examples/truncatefilter\textunderscore{}2ee58eb\pseudotab{}%
TruncateFilter\pseudotab{}Filter\pseudotab\\
The truncate filter service\pseudotwotabs\textellipsis/%
mpmTruncateFilterService\pseudotab\\
/examples/truncatefilter/input\textunderscore{}39b1d9f\textbraceleft{}%
protocol=d+\textbraceright\pseudotab\\
/examples/truncatefilter/output\textunderscore{}6a7d189\textbraceleft{}%
protocol=i+\textbraceright
\outputEnd{}
For clarity, the full paths to the executables have been shortened and blank lines have
been added; in the actual output the paths would be absolute paths and there would be no
blank lines between the output rows.
Note that, if no services are found, the output would be empty.
\tertiaryEnd{\utilityNameE{mpmServiceLister}}
\tertiaryStart{\utilityNameP{mpmVersion}}
The program \utilityNameX{mpmVersion} displays the version numbers for \mplusm{}, \yarp{}
and ACE, the low--level networking layer used by \mplusm{} and \yarp{}.
It has two command--line options:
\begin{itemize}
\item \textbf{--j} generate JSON--formatted output
\item \textbf{--t} generate output in tab--delimited form
\end{itemize}
If neither option is present, the output is written as simple text.\\

For example, the default output could be:
\outputBegin{}
Movement And Meaning Version:\ 1.4.9, YARP Version:\ 2.3.61, ACE Version:\ 6.2.6
\outputEnd{}
or, if JSON--formatted output is requested:
\outputBegin{}
\textbraceleft{} "M+M":\ "1.4.9", "YARP":\ "2.3.61", "ACE":\ "6.2.6" \textbraceright
\outputEnd{}
or, if tab--delimited output is requested, with tabs shown as
`\texttt{\boldmath{$\vdash$}}':
\outputBegin{}
1.4.9\pseudotab{}2.3.61\pseudotab{}6.2.6
\outputEnd{}
\tertiaryEnd{\utilityNameE{mpmVersion}}
\secondaryEnd{}
\newpage
\secondaryStart[UtilityServicesAndClients]{Utility~Services~and~Clients}
\tertiaryStart{\utilityNameP{mpmRequestCounterService}}
The \utilityNameX{mpmRequestCounterService} application is a background service that is
used to determine the average time to send a simple request, process it and return a
response.\\

It responds to the \requestsNameR{Miscellaneous}{Miscellaneous}{resetcounter} and
\requestsNameR{Miscellaneous}{Miscellaneous}{stats} requests sent by the
companion application \utilityNameR{mpmRequestCounterClient} to manage the statistics
that it gathers.\\

Note that only one copy of the \utilityNameX{mpmRequestCounterService} application can be
running at a time in an \mplusm{} installation, due to its fixed \yarp{} network port.
\tertiaryEnd{\utilityNameE{mpmRequestCounterService}}
\tertiaryStart{\utilityNameP{mpmRequestCounterClient}}
The \utilityNameX{mpmRequestCounterClient} application is a command--line tool to
measure the average time to process a simple request.\\

It uses the \requestsNameR{Miscellaneous}{Miscellaneous}{resetcounter} and
\requestsNameR{Miscellaneous}{Miscellaneous}{stats} requests sent to the
\utilityNameR{mpmRequestCounterService} application to gather the statistics, and a
`dummy' request to provide the requests that are being measured.\\

The program has no arguments or options; it asks for the number of requests to send via
the prompt:
\outputBegin{}
How many requests?
\outputEnd{}
Entering a zero value will exit the program.
An example execution of the program, with the \utilityNameR{mpmRequestCounterService}
application running in the background, could be:
\outputBegin{}
How many requests? 10000\\
count = 10000, elapsed time = 2.2 seconds, average time = 0.22 milliseconds.\\
How many requests? 300000\\
count = 300000, elapsed time = 1.20052 minutes, average time = 0.240104 milliseconds.\\
How many requests? 0\\
\outputEnd{}
\tertiaryEnd{\utilityNameE{mpmRequestCounterClient}}
\secondaryEnd{}
\primaryEnd{}
